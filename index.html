<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pulkit's Blog</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />
  <!-- Bootstrap Icons -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    rel="stylesheet"
  />
  <style>
    html, body {
      height: 100%;
      font-size: 1.1rem;
    }

    .sidebar {
      min-width: 300px;
      max-width: 300px;
      background-color: #f8f9fa;
      padding: 2rem 1.5rem;
    }

    .sidebar a {
      display: block;
      margin-bottom: 0.75rem;
      color: #333;
      text-decoration: none;
    }

    .sidebar a:hover {
      text-decoration: underline;
    }

    .content-wrapper {
      padding-top: 70px; /* For fixed navbar */
    }

    .sidebar img.profile {
      width: 120px;
      height: 120px;
    }
  </style>
</head>
<body>

  <!-- Fixed Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light px-4 fixed-top">
    <a class="navbar-brand fs-4" href="#">Pulkit's Blog</a>

    <div class="ms-auto d-flex align-items-center">
      <a class="nav-link me-3" href="#" id="about-link">About</a>
      <a class="nav-link me-3" href="#" id="home-link">Home</a>
      <form class="d-flex" role="search">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" />
        <button class="btn btn-outline-secondary" type="submit">
          <i class="bi bi-search"></i>
        </button>
      </form>
    </div>
  </nav>

  <!-- Sidebar + Main Content -->
  <div class="d-flex min-vh-100 content-wrapper">
    <!-- Sidebar -->
    <div class="sidebar text-center">
      <img src="https://via.placeholder.com/120" class="rounded-circle mb-3 profile" alt="Profile" />
      <h4 class="fw-bold">Pulkit Dhingra</h4>
      <p class="text-muted small">
        ‚ù§Ô∏è code / ‚ù§Ô∏è languages üáÆüáπ üáØüáµ / ‚ù§Ô∏è mech ‚å®Ô∏è / Learning stenography
      </p>
      <p class="text-muted">
        <i class="bi bi-geo-alt-fill me-1"></i> Bristol, United Kingdom
      </p>

      <div class="text-start">
        <div class="d-flex align-items-center mb-2">
          <i class="bi bi-link-45deg me-2"></i>
          <a href="#">Website</a>
        </div>
        <div class="d-flex align-items-center mb-2">
          <i class="bi bi-envelope-fill me-2"></i>
          <a href="#">Email</a>
        </div>
        <div class="d-flex align-items-center mb-2">
          <i class="bi bi-twitter me-2"></i>
          <a href="#">Twitter</a>
        </div>
        <div class="d-flex align-items-center mb-2">
          <i class="bi bi-linkedin me-2"></i>
          <a href="#">LinkedIn</a>
        </div>
        <div class="d-flex align-items-center mb-2">
          <i class="bi bi-instagram me-2"></i>
          <a href="#">Instagram</a>
        </div>
        <div class="d-flex align-items-center mb-2">
          <i class="bi bi-github me-2"></i>
          <a href="#">GitHub</a>
        </div>
        <div class="d-flex align-items-center mb-2">
          <i class="bi bi-stack-overflow me-2"></i>
          <a href="#">Stack Overflow</a>
        </div>
      </div>
      

      <div class="mt-4 text-start">
        <p class="fw-bold">Get notified of new posts!</p>
        <input type="email" class="form-control" placeholder="email address" />
      </div>
    </div>

    <!-- Main Content -->
    <div class="flex-grow-1 p-4" id="main-content">
        <h2>Welcome to Pulkit's Blog!</h2>
        <p>Loading blog posts...</p>
      </div>
      

<script>
    const mainContent = document.getElementById("main-content");
  
    // Load blog data from JSON file in /data
    fetch("data/blogData.json")
      .then((res) => {
        if (!res.ok) throw new Error("Failed to load blog data");
        return res.json();
      })
      .then((data) => {
        renderBlogList(data);
      })
      .catch((err) => {
        mainContent.innerHTML = "<p class='text-danger'>Error loading blog list.</p>";
        console.error(err);
      });
  
    // Render list of blog titles and summaries
    function renderBlogList(data) {
      let html = "<h2>Latest Posts</h2><div class='list-group'>";
      data.forEach((post) => {
        html += `
          <a href="#" class="list-group-item list-group-item-action mb-2" data-file="${post.file}">
            <h5 class="mb-1">${post.title}</h5>
            <p class="mb-1">${post.summary}</p>
          </a>
        `;
      });
      html += "</div>";
      mainContent.innerHTML = html;
  
      // Attach click events to each title
      document.querySelectorAll("[data-file]").forEach((el) => {
        el.addEventListener("click", function (e) {
          e.preventDefault();
          const file = this.getAttribute("data-file");
  
          fetch("content/" + file)
            .then((res) => {
              if (!res.ok) throw new Error("Blog file not found");
              return res.text();
            })
            .then((html) => {
              mainContent.innerHTML = html;
            })
            .catch((err) => {
              mainContent.innerHTML = "<p class='text-danger'>Error loading blog content.</p>";
              console.error(err);
            });
        });
      });
    }
  
    // Static About page loader
    document.getElementById("about-link").addEventListener("click", function (e) {
      e.preventDefault();
      fetch("content/About.html")
        .then((res) => {
          if (!res.ok) throw new Error("Failed to load About.html");
          return res.text();
        })
        .then((html) => {
          mainContent.innerHTML = html;
        })
        .catch((err) => {
          mainContent.innerHTML = "<p class='text-danger'>Could not load About page.</p>";
        });
    });
  
    // Static Home page loader
    document.getElementById("home-link").addEventListener("click", function (e) {
      e.preventDefault();
      fetch("data/blogData.json")
        .then((res) => res.json())
        .then((data) => renderBlogList(data));
    });
  </script>
  
  

<!-- Bootstrap JS -->
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeo9BxZUpnCb3AKypD9P6FQa/nlJp9ggPCu2P31Cv9yY7Nlg"
    crossorigin="anonymous"
></script>
</body>
</html>
